import { APP_ROUTE_TREE } from '$shared/constants';

export const packages = {
  avatar: {
    id: 'avatar',
    name: '@svelte-put/avatar',
    publishedAt: 1670126470519,
    description: 'component & utilities for building avatars',
    path: APP_ROUTE_TREE.docs.avatar.$.path(),
    replId: 'd54381946b1c4ebd8e612e4568fbbbd0',
    category: 'miscellaneous',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/misc/avatar',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/misc/avatar/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/misc/avatar/api/docs/index.md',
  },
  clickoutside: {
    id: 'clickoutside',
    name: '@svelte-put/clickoutside',
    publishedAt: 1670126470519,
    description: 'event for clicking outside node',
    path: APP_ROUTE_TREE.docs.clickoutside.$.path(),
    replId: '9e5f9ee41c2c45aa8523993e357f6e78',
    category: 'action',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/actions/clickoutside',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/clickoutside/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/clickoutside/api/docs/index.md',
  },
  copy: {
    id: 'copy',
    name: '@svelte-put/copy',
    publishedAt: 1670126470519,
    description: 'action & utilities to copy text to clipboard',
    path: APP_ROUTE_TREE.docs.copy.$.path(),
    replId: undefined,
    category: 'action',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/actions/copy',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/copy/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/copy/api/docs/index.md',
  },
  dragscroll: {
    id: 'dragscroll',
    name: '@svelte-put/dragscroll',
    publishedAt: 1670126470519,
    description: 'action to add "drag-to-scroll" behavior',
    path: APP_ROUTE_TREE.docs.dragscroll.$.path(),
    replId: undefined,
    category: 'action',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/actions/dragscroll',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/dragscroll/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/dragscroll/api/docs/index.md',
  },
  intersect: {
    id: 'intersect',
    name: '@svelte-put/intersect',
    publishedAt: 1670126470519,
    description: 'wrapper for IntersectionObserver',
    path: APP_ROUTE_TREE.docs.intersect.$.path(),
    replId: '835eacce6ac44aff95a7cb0bb5ca200d',
    category: 'action',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/actions/intersect',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/intersect/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/intersect/api/docs/index.md',
  },
  modal: {
    id: 'modal',
    name: '@svelte-put/modal',
    publishedAt: 1670126470519,
    description: 'type-safe async modal builder',
    path: APP_ROUTE_TREE.docs.modal.$.path(),
    replId: '0a68001337544b8ab55995fb3d02d1f6',
    category: 'miscellaneous',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/misc/modal',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/misc/modal/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/misc/modal/api/docs/index.md',
  },
  movable: {
    id: 'movable',
    name: '@svelte-put/movable',
    publishedAt: 1670126470519,
    description: 'move node on mousedown',
    path: APP_ROUTE_TREE.docs.movable.$.path(),
    replId: '88a7c1fc2e134db7b58786d5f385fc5d',
    category: 'action',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/actions/movable',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/movable/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/movable/api/docs/index.md',
  },
  'preprocess-auto-slug': {
    id: 'preprocess-auto-slug',
    name: '@svelte-put/preprocess-auto-slug',
    publishedAt: 1670126470519,
    description: 'svelte preprocessor to add id attribute and anchor tag',
    path: APP_ROUTE_TREE.docs.preprocessAutoSlug.$.path(),
    replId: undefined,
    category: 'preprocessor',
    status: 'new',
    ready: true,
    githubUrl:
      'https://github.com/vnphanquang/svelte-put/tree/main/packages/preprocessors/auto-slug',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/preprocessors/preprocess-auto-slug/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/preprocessors/auto-slug/api/docs/index.md',
  },
  select: {
    id: 'select',
    name: '@svelte-put/select',
    publishedAt: 1670126470519,
    description: 'type-safe and extensible select',
    path: APP_ROUTE_TREE.docs.select.$.path(),
    replId: '4f0d701ab5ed411ebbc9a71b0955385d',
    category: 'component',
    status: 'dev',
    ready: false,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/components/select',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/components/select/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/components/select/api/docs/index.md',
  },
  shortcut: {
    id: 'shortcut',
    name: '@svelte-put/shortcut',
    publishedAt: 1670126470519,
    description: 'add keyboard shortcuts to node',
    path: APP_ROUTE_TREE.docs.shortcut.$.path(),
    replId: undefined,
    category: 'action',
    status: 'stable',
    ready: true,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/actions/shortcut',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/shortcut/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/shortcut/api/docs/index.md',
  },
  toc: {
    id: 'toc',
    name: '@svelte-put/toc',
    publishedAt: 1670126470519,
    description: 'action and utilities for building table of contents',
    path: APP_ROUTE_TREE.docs.toc.$.path(),
    replId: 'd9c896ac62cd41d49f80ffa249d292e6',
    category: 'action',
    status: 'new',
    ready: false,
    githubUrl: 'https://github.com/vnphanquang/svelte-put/tree/main/packages/actions/toc',
    changelogUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/toc/CHANGELOG.md',
    apiUrl:
      'https://github.com/vnphanquang/svelte-put/blob/main/packages/actions/toc/api/docs/index.md',
  },
} as const;

export type PackageId = keyof typeof packages;
export type Package = typeof packages[PackageId];
export type PackageName = Package['name'];
export type PackageCategory = typeof packages[PackageId]['category'];

export const packagesByCategory = Object.values(packages).reduce((map, pkg) => {
  const category = pkg.category;
  if (!map[category]) map[category] = [];
  map[category].push(pkg);
  return map;
}, {} as Record<PackageCategory, Package[]>);

export const pkgToPath = Object.fromEntries(
  Object.values(packages).map((p) => [p.name, p.path]),
) as Record<PackageName, string>;
